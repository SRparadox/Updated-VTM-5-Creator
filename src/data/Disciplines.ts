import { z } from "zod"

import animalismLogo from "../resources/Rombo_Disciplines/rombo_Animalism.svg"
import auspexLogo from "../resources/Rombo_Disciplines/rombo_Auspex.svg"
import celerityLogo from "../resources/Rombo_Disciplines/rombo_Celerity.svg"
import dominateLogo from "../resources/Rombo_Disciplines/rombo_Dominate.svg"
import fortitudeLogo from "../resources/Rombo_Disciplines/rombo_Fortitude.svg"
import obfuscateLogo from "../resources/Rombo_Disciplines/rombo_Obfuscate.svg"
import potenceLogo from "../resources/Rombo_Disciplines/rombo_Potence.svg"
import presenceLogo from "../resources/Rombo_Disciplines/rombo_Presence.svg"
import proteanLogo from "../resources/Rombo_Disciplines/rombo_Protean.svg"
import bloodSorceryLogo from "../resources/Rombo_Disciplines/rombo_BloodSorcery.svg"
import oblivionLogo from "../resources/Rombo_Disciplines/rombo_Oblivion.svg"
import { clanNameSchema, DisciplineName, disciplineNameSchema } from "./NameSchemas"

export const amalgamPrerequisiteSchema = z.object({
    discipline: disciplineNameSchema,
    level: z.number().min(1).int(),
})
export type AmalgamPrerequisite = z.infer<typeof amalgamPrerequisiteSchema>

export const powerSchema = z.object({
    name: z.string(),
    description: z.string(),
    summary: z.string(),
    dicePool: z.string(),
    level: z.number().min(1).int(),
    discipline: disciplineNameSchema,
    rouseChecks: z.number().min(0).int(),
    amalgamPrerequisites: amalgamPrerequisiteSchema.array(),
})
export type Power = z.infer<typeof powerSchema>

export const disciplineSchema = z.object({
    clans: clanNameSchema.array(),
    summary: z.string(),
    powers: powerSchema.array(),
    logo: z.string(),
})
export type Discipline = z.infer<typeof disciplineSchema>

export const disciplines: Record<DisciplineName, Discipline> = {
    animalism: {
        clans: [
            "Nosferatu", "Gangrel", "Ravnos", "Tzimisce", "Ahrimanes", "Lhiannan", "Caitiff"
        ],
        summary: "Interact with and control animals",
        logo: animalismLogo,
        powers: [
            // Level 1
            {
                name: "Bond Famulus",
                description: "Bond to an animal to make other Animalism powers more effective.",
                rouseChecks: 3,
                amalgamPrerequisites: [],
                summary: "Bond an animal companion. It will listen to basic commands, but full communication is not possible (unless you have Feral Whispers)",
                dicePool: "Charisma + Animal Ken",
                level: 1,
                discipline: "animalism",
            },
            {
                name: "Pack Mentality",
                description: "Share Fortitude to resist mental domination collectively.",
                rouseChecks: 0,
                amalgamPrerequisites: [{ discipline: "fortitude", level: 1 }],
                summary: "Share Fortitude to resist mental domination collectively among bonded animals and yourself.",
                dicePool: "Composure + Animalism",
                level: 1,
                discipline: "animalism",
            },
            {
                name: "Sense the Beast",
                description: "Sense anger, hunger, and Beasts.",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "Sense hostility and supernatural traits in people.",
                dicePool: "Resolve + Animalism",
                level: 1,
                discipline: "animalism",
            },
            // Level 2
            {
                name: "Animal Messenger",
                description: "Send messages through your famulus.",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "auspex", level: 1 }],
                summary: "Send messages through your bonded animal (famulus).",
                dicePool: "Manipulation + Animalism",
                level: 2,
                discipline: "animalism",
            },
            {
                name: "Atavism",
                description: "Force an animal into fear or rage frenzy.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Make an animal enrage or flee.",
                dicePool: "Composure + Animalism",
                level: 2,
                discipline: "animalism",
            },
            {
                name: "Bestial Wrath",
                description: "Have the beast possess an animal that has fed from you, Frenzy Test.",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "fortitude", level: 2 }],
                summary: "Have the beast possess an animal that has fed from you. Frenzy Test required.",
                dicePool: "Resolve + Animalism",
                level: 2,
                discipline: "animalism",
            },
            {
                name: "Feral Whispers",
                description: "Speak to and summon animals.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Communicate with animals. You can also call for animals and if they are nearby, they will come.",
                dicePool: "Manipulation / Charisma + Animalism",
                level: 2,
                discipline: "animalism",
            },
            // Level 3
            {
                name: "Augury",
                description: "Answer questions about the city using animal senses.",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "auspex", level: 1 }],
                summary: "Answer questions about the city using animal senses.",
                dicePool: "Wits + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Awaken the Parasite",
                description: "Fill someone's body with parasites.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Fill someone's body with parasites.",
                dicePool: "Stamina + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Rabid Bite",
                description: "Animal bites cause frenzy.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Animal bites cause frenzy in targets.",
                dicePool: "Strength + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Animal Succulence",
                description: "Feed more effectively on animals. You can consume your famulus to temporarily gain their aspect.",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "Feed more effectively on animals. You can consume your famulus to temporarily gain their aspect.",
                dicePool: "",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Messenger's Command",
                description: "Convey Compel or Mesmerize through your famulus.",
                rouseChecks: 1,
                amalgamPrerequisites: [
                    { discipline: "dominate", level: 1 },
                    { discipline: "animalism", level: 2 }
                ],
                summary: "Convey Compel or Mesmerize through your famulus (requires Animal Messenger, Compel or Mesmerize).",
                dicePool: "Manipulation + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Scent of Prey",
                description: "Detect mortals who saw breaches.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Detect mortals who saw Masquerade breaches.",
                dicePool: "Resolve + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Plague of Beasts",
                description: "Send animals to harass a target.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Send animals to harass a target.",
                dicePool: "Manipulation + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Quell the Beast",
                description: "Shut down a target's drives and desires, pull vampires out of frenzy.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Shut down a target's drives and desires, pull vampires out of frenzy.",
                dicePool: "Charisma + Animalism",
                level: 3,
                discipline: "animalism",
            },
            {
                name: "Unliving Hive",
                description: "Other Animalism powers affect insects.",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "obfuscate", level: 2 }],
                summary: "Other Animalism powers affect insects.",
                dicePool: "Wits + Animalism",
                level: 3,
                discipline: "animalism",
            },
            // Level 4
            {
                name: "Feral Dialogue",
                description: "Convey complex messages via discreet howls.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Convey complex messages via discreet howls.",
                dicePool: "Manipulation + Animalism",
                level: 4,
                discipline: "animalism",
            },
            {
                name: "Subsume the Spirit",
                description: "Possess an animal.",
                rouseChecks: 2,
                amalgamPrerequisites: [],
                summary: "Possess an animal.",
                dicePool: "Resolve + Animalism",
                level: 4,
                discipline: "animalism",
            },
            {
                name: "Sway the Flock",
                description: "Change behavior of animals in an area.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Change behavior of animals in an area.",
                dicePool: "Manipulation + Animalism",
                level: 4,
                discipline: "animalism",
            },
            // Level 5
            {
                name: "Living Menagerie",
                description: "Unify the beasts of all around.",
                rouseChecks: 2,
                amalgamPrerequisites: [],
                summary: "Unify the beasts of all around.",
                dicePool: "Charisma + Animalism",
                level: 5,
                discipline: "animalism",
            },
            {
                name: "Animal Dominion",
                description: "Control large groups of animals.",
                rouseChecks: 2,
                amalgamPrerequisites: [],
                summary: "Control large groups of animals.",
                dicePool: "Charisma + Animalism",
                level: 5,
                discipline: "animalism",
            },
            {
                name: "Coax the Bestial Temper",
                description: "Increase or decrease frenzy difficulties in an area.",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Increase or decrease frenzy difficulties in an area.",
                dicePool: "Manipulation + Animalism",
                level: 5,
                discipline: "animalism",
            },
            {
                name: "Drawing Out the Beast",
                description: "When you would frenzy, make someone else frenzy instead.",
                rouseChecks: 2,
                amalgamPrerequisites: [],
                summary: "When you would frenzy, make someone else frenzy instead.",
                dicePool: "Manipulation + Animalism",
                level: 5,
                discipline: "animalism",
            },
            {
                name: "Spirit Walk",
                description: "Subsume the Spirit lasts indefinitely, can transfer between animals.",
                rouseChecks: 2,
                amalgamPrerequisites: [{ discipline: "animalism", level: 4 }],
                summary: "Subsume the Spirit lasts indefinitely, can transfer between animals.",
                dicePool: "Resolve + Animalism",
                level: 5,
                discipline: "animalism",
            },
        ],
    },
    auspex: {
        clans: [
            "Toreador", "Tremere", "Malkavian", "Hecata", "Salubri", "Ahrimanes", "Kiasyd", "Lamia", "Nagaraja", "Caitiff"
        ],
        summary: "Supernatural senses and premonitions",
        logo: auspexLogo,
        powers: [
            // Level 1
            { name: "Heightened Senses", description: "Augment natural senses.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Your senses become supernaturally sharp; add Auspex rating to perception rolls.", dicePool: "Wits + Auspex", level: 1, discipline: "auspex" },
            { name: "Cypher Lingua", description: "Read any language.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Read any language.", dicePool: "Intelligence + Auspex", level: 1, discipline: "auspex" },
            { name: "Sense The Starving", description: "Read the hunger value of anyone.", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "protean", level: 2 }], summary: "Read the hunger value of anyone.", dicePool: "Wits + Auspex", level: 1, discipline: "auspex" },
            { name: "Vigilance", description: "Can sense if blood has been roused.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Can sense if blood has been roused.", dicePool: "Resolve + Auspex", level: 1, discipline: "auspex" },
            { name: "Quicken Sight", description: "Perceive fast moving objects.", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "celerity", level: 1 }], summary: "Perceive fast moving objects.", dicePool: "Wits + Auspex", level: 1, discipline: "auspex" },
            { name: "Sense the Unseen", description: "Detect supernatural effects.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Sense supernatural activity.", dicePool: "Wits / Resolve + Auspex", level: 1, discipline: "auspex" },
            // Level 2
            { name: "Panacea", description: "Calm mortals and heal willpower.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "fortitude", level: 1 }], summary: "Calm mortals and heal willpower.", dicePool: "Composure + Auspex", level: 2, discipline: "auspex" },
            { name: "Crown of The Lost Clan", description: "A psychic crown that emits supernatural radar.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "oblivion", level: 2 }], summary: "A psychic crown that emits supernatural radar.", dicePool: "Resolve + Auspex", level: 2, discipline: "auspex" },
            { name: "Premonition", description: "Receive prophetic visions.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Gain visions of the future.", dicePool: "Wits + Auspex", level: 2, discipline: "auspex" },
            { name: "Reveal Temperament", description: "Determine a person's resonance.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Determine a person's resonance.", dicePool: "Intelligence + Auspex", level: 2, discipline: "auspex" },
            { name: "Artist's Eye", description: "Inscribe information into art.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "presence", level: 2 }], summary: "Inscribe information into art.", dicePool: "Wits + Auspex", level: 2, discipline: "auspex" },
            { name: "Aethethical Insight", description: "Gain information from a look.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Gain information from a look.", dicePool: "Wits + Auspex", level: 2, discipline: "auspex" },
            { name: "Mistfell", description: "Quickly transform into mist to escape danger.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "protean", level: 2 }], summary: "Quickly transform into mist to escape danger.", dicePool: "Resolve + Auspex", level: 2, discipline: "auspex" },
            { name: "Unerring Pursuit", description: "Track a victim through their reflection.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "dominate", level: 1 }], summary: "Track a victim through their reflection.", dicePool: "Resolve + Auspex", level: 2, discipline: "auspex" },
            // Level 3
            { name: "Eyes of Beasts", description: "See through the eyes of animals.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "animalism", level: 2 }], summary: "See through the eyes of animals.", dicePool: "Wits + Auspex", level: 3, discipline: "auspex" },
            { name: "Fatal Flaw", description: "Determine a target's weakness.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "oblivion", level: 1 }], summary: "Determine a target's weakness.", dicePool: "Intelligence + Auspex", level: 3, discipline: "auspex" },
            { name: "Scry the Soul", description: "See the aura of a person's soul.", rouseChecks: 1, amalgamPrerequisites: [], summary: "See the aura of a person's soul.", dicePool: "Intelligence + Auspex", level: 3, discipline: "auspex" },
            { name: "Bloody Recollection", description: "Gain memories from drunk blood.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Gain memories from drunk blood.", dicePool: "Resolve + Auspex", level: 3, discipline: "auspex" },
            { name: "Haruspex", description: "Glean insight from recent deaths.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "oblivion", level: 1 }], summary: "Glean insight from recent deaths.", dicePool: "Wits + Auspex", level: 3, discipline: "auspex" },
            { name: "Vedi Pentimento", description: "Unpaint artworks to uncover artists' truths.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Unpaint artworks to uncover artists' truths.", dicePool: "Wits + Auspex", level: 3, discipline: "auspex" },
            { name: "Share the Senses", description: "Borrow another's senses.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Borrow another's senses.", dicePool: "Resolve + Auspex", level: 3, discipline: "auspex" },
            // Level 4
            { name: "Heart Laid Bare", description: "Learn someone's desires or fears.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Learn someone's desires or fears.", dicePool: "Wits + Auspex", level: 4, discipline: "auspex" },
            { name: "What Dreams May Come", description: "Can still have some of their senses during sleep.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Can still have some of their senses during sleep.", dicePool: "Resolve + Auspex", level: 4, discipline: "auspex" },
            { name: "Spirit's Touch", description: "View impressions of past events.", rouseChecks: 1, amalgamPrerequisites: [], summary: "View impressions of past events.", dicePool: "Wits + Auspex", level: 4, discipline: "auspex" },
            // Level 5
            { name: "Animea Opus", description: "Can imbue disciplines into artwork.", rouseChecks: 2, amalgamPrerequisites: [{ discipline: "auspex", level: 2 }, { discipline: "presence", level: 2 }], summary: "Can imbue disciplines into artwork.", dicePool: "Wits + Auspex", level: 5, discipline: "auspex" },
            { name: "Clairvoyance", description: "Know everything about an area.", rouseChecks: 2, amalgamPrerequisites: [], summary: "Know everything about an area.", dicePool: "Resolve + Auspex", level: 5, discipline: "auspex" },
            { name: "Possession", description: "Possess a human.", rouseChecks: 2, amalgamPrerequisites: [{ discipline: "dominate", level: 3 }], summary: "Possess a human.", dicePool: "Resolve + Auspex", level: 5, discipline: "auspex" },
            { name: "Telepathy", description: "Read minds and project thoughts.", rouseChecks: 2, amalgamPrerequisites: [], summary: "Read minds and project thoughts.", dicePool: "Wits + Auspex", level: 5, discipline: "auspex" },
            { name: "Unburdening the Bestial Soul", description: "Remove/shield against Stains, make Dominate easier, restore Humanity.", rouseChecks: 2, amalgamPrerequisites: [{ discipline: "dominate", level: 3 }, { discipline: "auspex", level: 2 }], summary: "Remove/shield against Stains, make Dominate easier, restore Humanity.", dicePool: "Resolve + Auspex", level: 5, discipline: "auspex" },
        ],
    },
    celerity: {
        clans: [
            "Toreador", "Brujah", "Banu Haqim", "Caitiff"
        ],
        summary: "Move with supernatural speed",
        logo: celerityLogo,
        powers: [
            // Level 1
            { name: "Cat's Grace", description: "Always keep your balance.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Always keep your balance.", dicePool: "Dexterity + Athletics", level: 1, discipline: "celerity" },
            { name: "Fluent Swiftness", description: "Reroll Blood Surges on Dexterity.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Reroll Blood Surges on Dexterity.", dicePool: "Dexterity + Celerity", level: 1, discipline: "celerity" },
            { name: "Quickshift", description: "Speed the time of a transformation.", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "protean", level: 1 }], summary: "Speed the time of a transformation.", dicePool: "Dexterity + Celerity", level: 1, discipline: "celerity" },
            { name: "First Strike", description: "Always strike first in combat.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Always strike first in combat.", dicePool: "Dexterity + Celerity", level: 1, discipline: "celerity" },
            { name: "Surge of Alacrity", description: "Add a bonus dice to Dex or Wits during blood surge.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Add a bonus dice to Dex or Wits during blood surge.", dicePool: "Dexterity or Wits + Celerity", level: 1, discipline: "celerity" },
            { name: "Rapid Reflexes", description: "Dodge against Firearms and take minor actions for free.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Dodge against Firearms and take minor actions for free.", dicePool: "Dexterity + Celerity", level: 1, discipline: "celerity" },
            // Level 2
            { name: "Fleetness", description: "Add Celerity to Dexterity tests.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Add Celerity to Dexterity tests.", dicePool: "Dexterity + Celerity", level: 2, discipline: "celerity" },
            { name: "Blood Knight's Devotion", description: "Move to take damage instead of someone.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "fortitude", level: 2 }], summary: "Move to take damage instead of someone.", dicePool: "Dexterity + Celerity", level: 2, discipline: "celerity" },
            { name: "Measured Maneuver", description: "Reduce called shot difficulty.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Reduce called shot difficulty.", dicePool: "Dexterity + Celerity", level: 2, discipline: "celerity" },
            { name: "Rush Job", description: "Do Skill tasks faster, as minor actions.", rouseChecks: 0, amalgamPrerequisites: [], summary: "Do Skill tasks faster, as minor actions.", dicePool: "Dexterity + Celerity", level: 2, discipline: "celerity" },
            // Level 3
            { name: "Blink", description: "Move far before taking an action.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Move far before taking an action.", dicePool: "Dexterity + Athletics", level: 3, discipline: "celerity" },
            { name: "Traversal", description: "Run across liquids or walls.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Run across liquids or walls.", dicePool: "Dexterity + Athletics", level: 3, discipline: "celerity" },
            { name: "Mercurial Beasts", description: "Share super speed with animals.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "animalism", level: 1 }], summary: "Share super speed with animals.", dicePool: "Dexterity + Celerity", level: 3, discipline: "celerity" },
            { name: "A Thousand Cuts", description: "Impair a mortal with superficial damage.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Impair a mortal with superficial damage.", dicePool: "Dexterity + Celerity", level: 3, discipline: "celerity" },
            { name: "Shifting Traversal", description: "Able to switch between three separate animals.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "protean", level: 3 }], summary: "Able to switch between three separate animals.", dicePool: "Dexterity + Celerity", level: 3, discipline: "celerity" },
            { name: "Preeminence", description: "See if a dice roll would succeed.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "auspex", level: 3 }], summary: "See if a dice roll would succeed.", dicePool: "Wits + Celerity", level: 3, discipline: "celerity" },
            { name: "Weaving", description: "Add Celerity to defense against ranged.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "celerity", level: 1 }], summary: "Add Celerity to defense against ranged (Requires 'Rapid Reflexes').", dicePool: "Dexterity + Celerity", level: 3, discipline: "celerity" },
            // Level 4
            { name: "Mortifying Riposte", description: "Make a counterstrike.", rouseChecks: 2, amalgamPrerequisites: [{ discipline: "presence", level: 3 }], summary: "Make a counterstrike.", dicePool: "Dexterity + Celerity", level: 4, discipline: "celerity" },
            { name: "Blurred Momentum", description: "Attacks with fewer successes than Celerity automatically miss.", rouseChecks: 1, amalgamPrerequisites: [], summary: "Attacks with fewer successes than Celerity automatically miss.", dicePool: "Dexterity + Celerity", level: 4, discipline: "celerity" },
            { name: "Draught of Elegance", description: "Give Celerity to others.", rouseChecks: 2, amalgamPrerequisites: [], summary: "Give Celerity to others.", dicePool: "Dexterity + Celerity", level: 4, discipline: "celerity" },
            { name: "Unerring Aim", description: "Make ranged attacks at Difficulty 1.", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "auspex", level: 2 }], summary: "Make ranged attacks at Difficulty 1.", dicePool: "Dexterity + Firearms", level: 4, discipline: "celerity" },
            { name: "Unseen Strike", description: "Make melee attacks at Difficulty 1.", rouseChecks: 2, amalgamPrerequisites: [{ discipline: "obfuscate", level: 4 }, { discipline: "celerity", level: 3 }], summary: "Make melee attacks at Difficulty 1 (Requires Blink).", dicePool: "Dexterity + Melee", level: 4, discipline: "celerity" },
            // Level 5
            { name: "Fastigum", description: "Perform two separate actions via speed.", rouseChecks: 2, amalgamPrerequisites: [{ discipline: "celerity", level: 3 }], summary: "Perform two separate actions via speed (Requires Preeminence).", dicePool: "Dexterity + Celerity", level: 5, discipline: "celerity" },
            { name: "Lightning Strike", description: "Make melee attacks at Difficulty 1.", rouseChecks: 2, amalgamPrerequisites: [], summary: "Make melee attacks at Difficulty 1.", dicePool: "Dexterity + Melee", level: 5, discipline: "celerity" },
            { name: "Split Second", description: "Retcon the ST's narration of events.", rouseChecks: 2, amalgamPrerequisites: [], summary: "Retcon the ST's narration of events.", dicePool: "Wits + Celerity", level: 5, discipline: "celerity" },
        ],
    },
    dominate: {
        clans: [
            "Ventrue", "Malkavian", "Tremere", "Lasombra", "Tzimisce", "Salubri", "Kiasyd", "Nagaraja", "Caitiff"
        ],
        summary: "Control other's minds",
        logo: dominateLogo,
        powers: [
            {
                name: "Cloud Memory",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "make a person forget the past minute",
                dicePool: "Charisma + Dominate",
                level: 1,
                discipline: "dominate",
            },
            {
                name: "Compel",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "a single, short command with an immediate effect",
                dicePool: "Charisma + Dominate",
                level: 1,
                discipline: "dominate",
            },
            {
                name: "Mesmerize",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "allow issuing more complex commands",
                dicePool: "Manipulation + Dominate",
                level: 2,
                discipline: "dominate",
            },

            {
                name: "Domitor's Favor",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "make it harder for thralls to resist you",
                dicePool: "",
                level: 2,
                discipline: "dominate",
            },
            {
                name: "Slavish Devotion",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [{ discipline: "presence", level: 1 }],
                summary: "strengthen the mind of your dominated victims against interference from other kindred",
                dicePool: "",
                level: 2,
                discipline: "dominate",
            },
            // { name: "Dementation", description: "", rouseChecks: 1, amalgamPrerequisites: [{ discipline: "obfuscate", level: 2 }], summary: "trigger psychotic breaks or nervous breakdowns in others", dicePool: "Manipulation + Dominate", level: 2, discipline: "dominate" },

            {
                name: "Forgetful Mind",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "Rewrite memories",
                dicePool: "Manipulation + Dominate",
                level: 3,
                discipline: "dominate",
            },
            {
                name: "Submerged Directive",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "When using Mesmerize you can give a command that stays dormant until triggered (requires Mesmerize)",
                dicePool: "",
                level: 3,
                discipline: "dominate",
            },
        ],
    },
    fortitude: {
        clans: [
            "Ventrue", "Gangrel", "Hecata", "Salubri", "Lamia", "Gargoyle", "Caitiff"
        ],
        summary: "Resist damage and influence",
        logo: fortitudeLogo,
        powers: [
            {
                name: "Resilience",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "add Fortitude rating to health track",
                dicePool: "",
                level: 1,
                discipline: "fortitude",
            },
            {
                name: "Unswayable Mind",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "add extra defense against mind-swaying",
                dicePool: "",
                level: 1,
                discipline: "fortitude",
            },
            {
                name: "Toughness",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "reduce Superficial physical damage sustained",
                dicePool: "",
                level: 2,
                discipline: "fortitude",
            },
            {
                name: "Valeren",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "auspex", level: 1 }],
                summary: "use your blood to heal other vampires",
                dicePool: "Intelligence + Fortitude",
                level: 2,
                discipline: "fortitude",
            },
            // { name: "Obdurate", description: "", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "potence", level: 2 }], summary: "maintain steady footing even when struck by massive force", dicePool: "", level: 2, discipline: "fortitude" },

            {
                name: "Defy Bane",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "turn aggravated damage to superficial",
                dicePool: "",
                level: 3,
                discipline: "fortitude",
            },
            {
                name: "Fortify the Inner Facade",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "resist auspex and similar powers",
                dicePool: "",
                level: 3,
                discipline: "fortitude",
            },
            {
                name: "Seal the Beast's Maw",
                description: "",
                rouseChecks: 2,
                amalgamPrerequisites: [],
                summary: "ignore hunger for one scene",
                dicePool: "",
                level: 3,
                discipline: "fortitude",
            },
        ],
    },
    obfuscate: {
        clans: [
            "Nosferatu", "Malkavian", "Banu Haqim", "Ministry", "Ravnos", "Gargoyle", "Caitiff"
        ],
        summary: "Remain undetected",
        logo: obfuscateLogo,
        powers: [
            {
                name: "Cloak of Shadows",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "blend into surroundings while motionless",
                dicePool: "Wits + Obfuscate / Stealth",
                level: 1,
                discipline: "obfuscate",
            },
            {
                name: "Silence of Death",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "mute all sounds you make",
                dicePool: "",
                level: 1,
                discipline: "obfuscate",
            },
            {
                name: "Unseen Passage",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "move while remaining hidden",
                dicePool: "Wits + Obfuscate / Stealth",
                level: 2,
                discipline: "obfuscate",
            },
            {
                name: "Chimerstry",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "presence", level: 1 }],
                summary: "create brief sensory hallucinations",
                dicePool: "Manipulation + Obfuscate",
                level: 2,
                discipline: "obfuscate",
            },
            {
                name: "Ghost's Passing",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "animalism", level: 1 }],
                summary: "extend your obfuscate powers to animals under your influence",
                dicePool: "Wits + Obfuscate",
                level: 2,
                discipline: "obfuscate",
            },
            // { name: "Ventriloquism", description: "", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "auspex", level: 2 }], summary: "choose who can and cannot hear you when speaking", dicePool: "", level: 2, discipline: "obfuscate" },

            {
                name: "Ghost in the Machine",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "Obfuscate affects technology (eg. hide yourself from recordings)",
                dicePool: "",
                level: 3,
                discipline: "obfuscate",
            },
            {
                name: "Mask of a Thousand Faces",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "make yourself appear as a non-descript stranger to others",
                dicePool: "",
                level: 3,
                discipline: "obfuscate",
            },
            {
                name: "Mental Maze",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "dominate", level: 1 }],
                summary: "prevent someone from perceiving any exits or means of escape",
                dicePool: "Charisma + Obfuscate",
                level: 3,
                discipline: "obfuscate",
            },
        ],
    },
    potence: {
        clans: [
            "Nosferatu", "Brujah", "Lasombra", "Caitiff"
        ],
        summary: "Gain supernatural strength",
        logo: potenceLogo,
        powers: [
            {
                name: "Lethal Body",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "cause serious physical damage to a mortals",
                dicePool: "",
                level: 1,
                discipline: "potence",
            },
            {
                name: "Soaring Leap",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "jump over long distance",
                dicePool: "",
                level: 1,
                discipline: "potence",
            },
            {
                name: "Prowess",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "add Potence rating to strength checks",
                dicePool: "",
                level: 2,
                discipline: "potence",
            },
            {
                name: "Brutal Feed",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "drain a person in seconds",
                dicePool: "",
                level: 3,
                discipline: "potence",
            },
            {
                name: "Uncanny Grip",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "grip and hold onto any surface, including walls and ceilings",
                dicePool: "",
                level: 3,
                discipline: "potence",
            },
            {
                name: "Wrecker",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "add double Potence rating to strength when destroying objects (requires 'Prowess')",
                dicePool: "",
                level: 3,
                discipline: "potence",
            },
        ],
    },
    presence: {
        clans: [
            "Toreador", "Brujah", "Ventrue", "Ministry", "Ravnos", "Lhiannan", "Baali", "Caitiff"
        ],
        summary: "Supernatural appearance and vibe",
        logo: presenceLogo,
        powers: [
            {
                name: "Awe",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "become attractive and charismatic; add Presence rating to Persuasion and Performance checks",
                dicePool: "",
                level: 1,
                discipline: "presence",
            },
            {
                name: "Daunt",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "push people away and intimidate; add Presence rating to Intimidation checks",
                dicePool: "",
                level: 1,
                discipline: "presence",
            },
            {
                name: "Eyes of the Serpent",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [{ discipline: "protean", level: 1 }],
                summary: "Immobilize someone with eye contact",
                dicePool: "Charisma + Presence",
                level: 1,
                discipline: "presence",
            },
            {
                name: "Lingering Kiss",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "make mortals you feed from love you",
                dicePool: "",
                level: 2,
                discipline: "presence",
            },
            {
                name: "Melpominee",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "use Presence powers against targets that can't see, but only hear you.",
                dicePool: "",
                level: 2,
                discipline: "presence",
            },
            {
                name: "Dread Gaze",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "terrify an individual, causing them to submit, freeze, flee or terror-frenzy",
                dicePool: "Charisma + Presence",
                level: 3,
                discipline: "presence",
            },
            {
                name: "Entrancement",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "cause infatuation, making a target do almost anything to remain in your good graces",
                dicePool: "Charisma + Presence",
                level: 3,
                discipline: "presence",
            },
            {
                name: "Thrown Voice",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "auspex", level: 1 }],
                summary: "project your voice to anywhere you can see",
                dicePool: "",
                level: 3,
                discipline: "presence",
            },
        ],
    },
    protean: {
        clans: [
            "Gangrel", "Ministry", "Tzimisce", "Ahrimanes", "Lhiannan", "Gargoyle", "Caitiff"
        ],
        summary: "Shape your body to gain power",
        logo: proteanLogo,
        powers: [
            {
                name: "Eyes of the Beast",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "your eyes start glowing and you can see in total darkness",
                dicePool: "",
                level: 1,
                discipline: "protean",
            },
            {
                name: "Weight of the Feather",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "become weightless",
                dicePool: "",
                level: 1,
                discipline: "protean",
            },
            {
                name: "Feral Weapons",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "grow deadly claws",
                dicePool: "",
                level: 2,
                discipline: "protean",
            },
            {
                name: "Vicissitude",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [{ discipline: "dominate", level: 2 }],
                summary: "reshape your own skin, muscles and bone at will",
                dicePool: "Resolve + Protean",
                level: 2,
                discipline: "protean",
            },

            {
                name: "Earth Meld",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "meld into the soil",
                dicePool: "",
                level: 3,
                discipline: "protean",
            },
            {
                name: "Shapechange",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "turn into a human-sized animal",
                dicePool: "",
                level: 3,
                discipline: "protean",
            },
        ],
    },
    "blood sorcery": {
        clans: [
            "Tremere", "Banu Haqim", "Baali", "Caitiff"
        ],
        summary: "Use blood-related magic and rituals",
        logo: bloodSorceryLogo,
        powers: [
            {
                name: "Corrosive Vitae",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "make your blood corrosive to dead substances",
                dicePool: "",
                level: 1,
                discipline: "blood sorcery",
            },
            {
                name: "A Taste for Blood",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "Discern traits about someone by tasting a drop of their blood",
                dicePool: "Resolve + Blood Sorcery",
                level: 1,
                discipline: "blood sorcery",
            },
            {
                name: "Shape of the Sanguine Sacrament",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "manipulate blood to show simple messages or shapes",
                dicePool: "Manipulation + Blood Sorcery",
                level: 1,
                discipline: "blood sorcery",
            },
            {
                name: "Extinguish Vitae",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "increase another vampire's hunger",
                dicePool: "Resolve + Blood Sorcery",
                level: 2,
                discipline: "blood sorcery",
            },
            {
                name: "Scour Secrets",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "locate particular information in text",
                dicePool: "Intelligence + Blood Sorcery",
                level: 2,
                discipline: "blood sorcery",
            },

            {
                name: "Blood of Potency",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "temporarily increase your Blood Potency",
                dicePool: "Resolve + Blood Sorcery",
                level: 3,
                discipline: "blood sorcery",
            },
            {
                name: "Scorpion's Touch",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "turn your blood into paralyzing poison",
                dicePool: "Strength + Blood Sorcery",
                level: 3,
                discipline: "blood sorcery",
            },
            {
                name: "Transitive Bond",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "your blood can retain Blood Bonding properties even when stored in an object or a ghoul",
                dicePool: "Intelligence + Blood Sorcery",
                level: 3,
                discipline: "blood sorcery",
            },
        ],
    },
    oblivion: {
        clans: [
            "Lasombra", "Hecata", "Kiasyd", "Baali", "Lamia", "Nagaraja", "Caitiff"
        ],
        summary: "Shadow powers and necromancy",
        logo: oblivionLogo,
        powers: [
            {
                name: "Shadow Cloak",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "manipulate shadows for stealth or intimidation",
                dicePool: "",
                level: 1,
                discipline: "oblivion",
            },
            {
                name: "Oblivion's Sight",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "see in darkness and see ghosts",
                dicePool: "",
                level: 1,
                discipline: "oblivion",
            },
            {
                name: "Ashes to Ashes",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "use your vitae to disintegrate non-vampire corpses",
                dicePool: "Stamina + Oblivion",
                level: 1,
                discipline: "oblivion",
            },
            {
                name: "The Binding Fetter",
                description: "",
                rouseChecks: 0,
                amalgamPrerequisites: [],
                summary: "identify objects and locations that are connected to ghosts",
                dicePool: "",
                level: 1,
                discipline: "oblivion",
            },
            {
                name: "Shadow Cast",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "summon a supernatural shadow you control",
                dicePool: "",
                level: 2,
                discipline: "oblivion",
            },
            {
                name: "Where the Shroud Thins",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "find places where ghosts can cross between worlds",
                dicePool: "Wits + Oblivion",
                level: 2,
                discipline: "oblivion",
            },
            // { name: "Arms of Ahriman", description: "", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "potence", level: 2 }], summary: "xxx", dicePool: "", level: 2, discipline: "oblivion" },
            // { name: "Fatal Precognition", description: "", rouseChecks: 0, amalgamPrerequisites: [{ discipline: "auspex", level: 2 }], summary: "xxx", dicePool: "", level: 2, discipline: "oblivion" },

            {
                name: "Aura of Decay",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "decay everything around",
                dicePool: "Stamina + Oblivion",
                level: 3,
                discipline: "oblivion",
            },
            {
                name: "Shadow Perspective",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "project senses through shadows",
                dicePool: "",
                level: 3,
                discipline: "oblivion",
            },
            {
                name: "Touch of Oblivion",
                description: "",
                rouseChecks: 1,
                amalgamPrerequisites: [],
                summary: "decay a living or unliving body",
                dicePool: "",
                level: 3,
                discipline: "oblivion",
            },
        ],
    },
    "thin-blood alchemy": {
        clans: ["Thin-blood"],
        summary: "",
        logo: "",
        powers: [],
    },
    "": {
        clans: [],
        summary: "",
        logo: "",
        powers: [],
    },
}

export const ritualSchema = z.object({
    name: z.string(),
    summary: z.string(),
    rouseChecks: z.number().min(0).int(),
    requiredTime: z.string(),
    dicePool: z.string(),
    ingredients: z.string(),
    level: z.number().min(1).int(),
})
export type Ritual = z.infer<typeof ritualSchema>

export const Rituals: Ritual[] = [
    {
        name: "Blood Walk",
        summary: "Use blood to learn about a subjects generation, name, sire and - on a crit - any active Blood Bonds.",
        rouseChecks: 1,
        requiredTime: "1 hour",
        dicePool: "Intelligence + Blood Sorcery",
        ingredients: "Blood of the subject",
        level: 1,
    },
    {
        name: "Clinging of the Insect",
        summary: "Drink blood mixed with a freshly crushed spider to cling to walls like an insect.",
        rouseChecks: 1,
        requiredTime: "5min",
        dicePool: "Intelligence + Blood Sorcery",
        ingredients: "Living spider, your own blood",
        level: 1,
    },
    {
        name: "Craft Bloodstone",
        summary: "Slowly soak blood into a small magnet. Once done, you sense the direction and rough distance of the stone for a week.",
        rouseChecks: 1,
        requiredTime: "3 nights",
        dicePool: "Intelligence + Blood Sorcery",
        ingredients: "Small magnet, your blood",
        level: 1,
    },
    {
        name: "Wake with Evenings Freshness",
        summary: "When threatened during the day after performing this ritual, awaken and ignore daytime penalties for a scene.",
        rouseChecks: 1,
        requiredTime: "5min",
        dicePool: "Intelligence + Blood Sorcery",
        ingredients: "Burnt bones of a rooster",
        level: 1,
    },
    {
        name: "Ward against Ghouls",
        summary:
            "Place a ward on a small object. When a ghoul tries to touch it, roll your Ritual roll. If you succeed, the Ghoul cannot touch it and is damaged.",
        rouseChecks: 1,
        requiredTime: "5min",
        dicePool: "Intelligence + Blood Sorcery",
        ingredients: "asd",
        level: 1,
    },
]

export const powerIsRitual = (p: Power | Ritual): p is Ritual => {
    return (p as Ritual)["ingredients"] !== undefined
}
